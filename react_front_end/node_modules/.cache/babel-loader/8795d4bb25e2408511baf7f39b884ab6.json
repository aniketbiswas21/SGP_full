{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ANIKET BISWAS\\\\Desktop\\\\Student-Grievances-Portal-master-branch\\\\Student-Grievance-Portal\\\\react_front_end\\\\src\\\\context\\\\IssueState.js\";\nimport React, { useReducer } from 'react';\nimport issueContext from './issueContext';\nimport IssueReducer from './IssueReducer';\nimport axios from 'axios';\nimport { ADD_ISSUE, ISSUE_FAIL } from './types';\nimport setAuthToken from '../utils/SetAuthToken';\n\nconst IssueState = props => {\n  const initialState = {\n    issue: null,\n    error: null\n  };\n  const [state, dispatch] = useReducer(IssueReducer, initialState); // Add a Issue\n\n  const addIssue = async formData => {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    try {\n      const res = await axios.post('http://localhost:4000/api/issues', formData, config); // console.log(res.data.token);\n\n      dispatch({\n        type: ADD_ISSUE,\n        payload: res.data\n      });\n    } catch (err) {\n      dispatch({\n        type: ISSUE_FAIL,\n        payload: err.response.data.msg\n      });\n    }\n  };\n\n  return React.createElement(issueContext.Provider, {\n    value: {\n      issue: state.issue,\n      error: state.error,\n      addIssue\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, props.children);\n};\n\nexport default IssueState;","map":{"version":3,"sources":["C:/Users/ANIKET BISWAS/Desktop/Student-Grievances-Portal-master-branch/Student-Grievance-Portal/react_front_end/src/context/IssueState.js"],"names":["React","useReducer","issueContext","IssueReducer","axios","ADD_ISSUE","ISSUE_FAIL","setAuthToken","IssueState","props","initialState","issue","error","state","dispatch","addIssue","formData","config","headers","res","post","type","payload","data","err","response","msg","children"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAmBC,UAAnB,QAAoC,SAApC;AACA,OAAOC,YAAP,MAAyB,uBAAzB;;AAGA,MAAMC,UAAU,GAAIC,KAAD,IAAU;AACzB,QAAMC,YAAY,GAAC;AACfC,IAAAA,KAAK,EAAC,IADS;AAEfC,IAAAA,KAAK,EAAE;AAFQ,GAAnB;AAIA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAmBb,UAAU,CAACE,YAAD,EAAcO,YAAd,CAAnC,CALyB,CAMzB;;AACA,QAAMK,QAAQ,GAAG,MAAMC,QAAN,IAAiB;AAC9B,UAAMC,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AADE,KAAf;;AAKA,QAAG;AACC,YAAMC,GAAG,GAAG,MAAMf,KAAK,CAACgB,IAAN,CAAW,kCAAX,EAA+CJ,QAA/C,EAAyDC,MAAzD,CAAlB,CADD,CAEC;;AACAH,MAAAA,QAAQ,CAAC;AACLO,QAAAA,IAAI,EAAEhB,SADD;AAELiB,QAAAA,OAAO,EAAEH,GAAG,CAACI;AAFR,OAAD,CAAR;AAKH,KARD,CAQE,OAAMC,GAAN,EAAU;AACRV,MAAAA,QAAQ,CAAC;AACLO,QAAAA,IAAI,EAAEf,UADD;AAEPgB,QAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaF,IAAb,CAAkBG;AAFpB,OAAD,CAAR;AAIH;AACJ,GApBD;;AAsBA,SACI,oBAAC,YAAD,CAAc,QAAd;AACA,IAAA,KAAK,EAAE;AACHf,MAAAA,KAAK,EAACE,KAAK,CAACF,KADT;AAEHC,MAAAA,KAAK,EAACC,KAAK,CAACD,KAFT;AAGHG,MAAAA;AAHG,KADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOKN,KAAK,CAACkB,QAPX,CADJ;AAaH,CA1CD;;AA2CA,eAAenB,UAAf","sourcesContent":["import React, {useReducer} from 'react';\r\nimport issueContext from './issueContext';\r\nimport IssueReducer from './IssueReducer';\r\nimport axios from 'axios';\r\nimport {ADD_ISSUE, ISSUE_FAIL} from './types';\r\nimport setAuthToken from '../utils/SetAuthToken';\r\n\r\n\r\nconst IssueState = (props) =>{\r\n    const initialState={\r\n        issue:null,\r\n        error: null\r\n    }\r\n    const [state, dispatch]= useReducer(IssueReducer,initialState);\r\n    // Add a Issue\r\n    const addIssue = async formData =>{\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        try{\r\n            const res = await axios.post('http://localhost:4000/api/issues', formData, config);\r\n            // console.log(res.data.token);\r\n            dispatch({\r\n                type: ADD_ISSUE,\r\n                payload: res.data\r\n            })\r\n\r\n        } catch(err){\r\n            dispatch({\r\n                type: ISSUE_FAIL,\r\n              payload: err.response.data.msg\r\n            })\r\n        }\r\n    }\r\n\r\n    return(\r\n        <issueContext.Provider \r\n        value={{\r\n            issue:state.issue,\r\n            error:state.error,\r\n            addIssue\r\n\r\n         }}>\r\n            {props.children}\r\n        </issueContext.Provider>\r\n    );\r\n\r\n\r\n};\r\nexport default IssueState;"]},"metadata":{},"sourceType":"module"}